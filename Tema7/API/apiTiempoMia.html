<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <title>Wheather Time</title>
</head>

<body>
    <h1 style="position: absolute; margin-top: -7%; margin-left: 10%;">Ciudades</h1>

    <form style="margin-top: 10%; margin-left: 10%;">
        <p style="float: left; margin-right: 2%;"><strong>Ciudad</strong> </p>
        <input type="text" class="form-control" id="ciudad" name="ciudad"
            style="width: 30%; float: left; margin-right: 2%;">
        <input type="submit" value="Buscar" class="btn btn-primary" id="buscar" name="buscar" style="float: left;">
    </form>

    <div id="contenido"></div>

    <script>
        document.getElementById("buscar").addEventListener("click", async function () {
            //e.preventDefault();
            var city = document.getElementById("ciudad").value;
            alert(city);
            var url = "api.openweathermap.org/data/2.5/weather?q={city " + city + "}&appid={API 0328a2af9f600e88d71be80760908f00}";

            let res = await fetch(url);
            let data = await res.json;

            console.log(city);
            console.log(url);
            console.log(res);
            console.log(data);

            var contenido = document.getElementById("contenido");
            contenido.innerHTML = data.main.temp + "<img src='http://openweathermap.org/img/w" + data.weather[0].icon + ".png'>";

        });
    </script>

</body>

</html>